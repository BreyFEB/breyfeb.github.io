<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Equipo - FEB</title>
  <link rel="stylesheet" href="player_profile.css" />
  <link rel="stylesheet" href="team_profile.css" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- HEADER PRINCIPAL (top-nav) -->
  <header>
    <div class="header-inner">
      <img 
        src="https://raw.githubusercontent.com/emebullon/cadete2025/refs/heads/main/febcadete.svg" 
        alt="Logo FEB" 
        class="footer-logo"
      >
      <button class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="main-nav">
        <ul>
          <li class="nav-item"><a href="index.html"><img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/home-outline.svg" alt="Icono Inicio"><span>Inicio</span></a></li>
          <li class="nav-item"><a href="partidos.html"><img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/basketball-outline.svg" alt="Icono Partidos"><span>Partidos</span></a></li>
          <li class="nav-item"><a href="clasificacion.html"><img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/calendar-outline.svg" alt="Icono Clasificación"><span>Clasificación</span></a></li>
          <li class="nav-item"><a href="jugadores.html"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 64 64" role="img" aria-label="Icono de jugador de baloncesto"><path d="M24 6 L20 6 L14 14 L14 44 L18 54 L46 54 L50 44 L50 14 L44 6 L40 6 L40 16 L24 16 Z" fill="none" stroke="#FFFFFF" stroke-width="3" stroke-linejoin="round"/><circle cx="32" cy="34" r="9" fill="none" stroke="#FFFFFF" stroke-width="3"/><path d="M23 34 h18" fill="none" stroke="#FFFFFF" stroke-width="2"/><path d="M32 25 v18" fill="none" stroke="#FFFFFF" stroke-width="2"/><path d="M26 28 a9 9 0 0 0 0 12" fill="none" stroke="#FFFFFF" stroke-width="2"/><path d="M38 28 a9 9 0 0 1 0 12" fill="none" stroke="#FFFFFF" stroke-width="2"/></svg><span>Jugadores</span></a></li>
          <li class="nav-item active"><a href="equipos.html"><img src="team_icon.png" alt="Icono Equipo"><span>Equipos</span></a></li>
          <li class="nav-item"><a href="rankings.html"><img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/stats-chart-outline.svg" alt="Icono Ranking"><span>Rankings</span></a></li>
        </ul>
      </nav>
      <a href="login.html" class="login-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="4"/><path d="M4 20c0-4 8-4 8-4s8 0 8 4"/></svg>
        <span>Login</span>
      </a>
    </div>
  </header>


  <!-- HERO EQUIPO -->
  <section class="player-hero">
    <nav class="breadcrumb-nav" aria-label="breadcrumb">
      <ol class="breadcrumb-list">
        <li><a href="index.html">Inicio</a></li>
        <li>/</li>
        <li><a href="equipos.html">Equipos</a></li>
        <li>/</li>
        <li>Perfil</li>
      </ol>
    </nav>
    <div class="player-hero-content">
      <!-- Migas de pan -->
      
      <!-- Logo y datos básicos equipo -->
      <div class="team-header"><!-- Logo equipo -->
      <div class="player-photo-box">
        <img class="player-photo" id="teamLogo" alt="Logo Equipo">
      </div>
      <!-- Datos básicos equipo -->
      <div class="team-basic-info">
        <h1 class="player-name" id="teamName">Nombre del Equipo</h1>
        <p class="player-main-info" id="teamMainInfo">
          <!-- Liga, grupo, ciudad, etc. -->
        </p>
      </div>
    </div>
      <!-- Fichas de stats equipo -->
      <div class="summary-cards">
        <div class="summary-card-pts">
          <div class="summary-value" id="teamPts"></div>
          <div class="summary-label">PTS</div>
        </div>
        <div class="summary-card-reb">
          <div class="summary-value" id="teamReb"></div>
          <div class="summary-label">REB</div>
        </div>
        <div class="summary-card-ast">
          <div class="summary-value" id="teamAst"></div>
          <div class="summary-label">AST</div>
        </div>
        <div class="summary-card-val">
          <div class="summary-value" id="teamVal"></div>
          <div class="summary-label">+/-</div>
        </div>
      </div>
    </div>
  </section>

  <!-- NAV SECUNDARIA (tabs) PARA SECCIONES DEL EQUIPO -->
  <nav class="match-tabs" id="teamTabs">
    <ul>
      <li><a href="#playersSection" class="tab-link active"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="4"/><circle cx="16" cy="8" r="4"/><rect x="2" y="14" width="20" height="6" rx="3"/></svg><span>Plantilla</span></a></li>
      <li><a href="#profileSection" class="tab-link"><img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/stats-chart-outline.svg" alt="Rendimiento" class="tab-icon"><span>Rendimiento</span></a></li>
      <li><a href="#shotsSection" class="tab-link"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><circle cx="24" cy="24" r="22"/><path d="M24 2c6 8 6 36 0 44"/><path d="M8 14c10 4 22 4 32 0"/><path d="M8 34c10-4 22-4 32 0"/></svg><span>Mapa de Tiros</span></a></li>
      <li><a href="#lineupsSection" class="tab-link"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg><span>Quintetos</span></a></li>
      <li><a href="#statsSection" class="tab-link"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3h18v18H3zM3 9h18M3 15h18M9 3v18m6-18v18"></path></svg><span>Estadísticas</span></a></li>
      <li><a href="#recordsSection" class="tab-link">
        <svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round">
          <path d="M8 4h8v3a4 4 0 0 1-8 0V4z"/>
          <path d="M6 4a2 2 0 0 0-2 2c0 3.5 2.5 6 6 6"/>
          <path d="M18 4a2 2 0 0 1 2 2c0 3.5-2.5 6-6 6"/>
          <path d="M12 13v5"/>
          <rect x="9" y="19" width="6" height="2" rx="1"/>
        </svg>
        <span>Récords</span></a>
      </li>
      <li><a href="#photosSection" class="tab-link"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><span>Fotos</span></a></li>
      <li><a href="#videosSection" class="tab-link"><svg xmlns="http://www.w3.org/2000/svg" class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg><span>Videos</span></a></li>
    </ul>
  </nav>

  <section id="profileSection" class="player-section">
    <!-- JS will inject the charts and cards here -->
  </section>
  <section id="statsSection" class="player-section" style="display:none;">
    <h2 style="margin-bottom: 10px;">Estadísticas del Equipo</h2>
    <div class="stats-container" id="teamStatsContainer">
      <!-- Se inyectarán las tablas dinámicamente -->
    </div>
  </section>
  <section id="playersSection" class="player-section">
    <h2>Plantilla del Equipo</h2>
    <div id="teamPlayersContainer" class="players-grid">
      <!-- Player cards will be dynamically generated here -->
    </div>
  </section>
  <section id="photosSection" class="player-section" style="display:none;">
    <h2>Fotos del Equipo</h2>
    <div class="photo-gallery">
      <!-- Fotos -->
    </div>
  </section>
  <section id="videosSection" class="player-section" style="display:none;">
    <h2>Videos del Equipo</h2>
    <div class="videos-container">
      <!-- Videos -->
    </div>
  </section>
  <section id="shotsSection" class="player-section" style="display:none;">
    <h2>Mapa de Tiros del Equipo</h2>
    <div class="shots-filters-btns">
      <button id="toggleTeamFiltersBtn" class="reset-filters-btn">Mostrar filtros</button>
      <button id="resetTeamFiltersBtn" class="reset-filters-btn">Restablecer filtros</button>
    </div>
    <div id="selectedTeamFilters" class="selected-filters"></div>
    <div class="filter-controls" id="teamFilterControls"></div>
    <div id="shotsFiltersContainer"></div>
    <div class="chart-with-card horizontal">
      <div class="chart-container chart-container-shotChart"><canvas id="teamShotsChart"></canvas></div>
      <div class="stats-card"><h3>Porcentaje de Acierto</h3><div id="teamFgPercentage" class="fg-percentage">-</div></div>
    </div>
  </section>

  <section id="lineupsSection" class="player-section" style="display:none;">
    <h2>Estadísticas de Quintetos y Subquintetos</h2>
    
    <!-- Lineup type tabs -->
    <div class="lineup-tabs">
      <button class="lineup-tab-button active" data-lineup="five">5 Jugadores</button>
      <button class="lineup-tab-button" data-lineup="four">4 Jugadores</button>
      <button class="lineup-tab-button" data-lineup="three">3 Jugadores</button>
      <button class="lineup-tab-button" data-lineup="two">2 Jugadores</button>
    </div>

    <!-- Player filters -->
    <div class="lineup-filter-section player-filter-section collapsible collapsed">
      <div class="collapsible-header">
        <h3>Filtrar por jugadores en pista</h3>
        <span class="collapse-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <div class="player-checkboxes" id="lineupPlayerCheckboxes">
          <!-- Player checkboxes will be added here dynamically -->
        </div>
        <span class="filter-info" id="lineupPlayerFilterInfo"></span>
      </div>
    </div>

    <div class="lineup-filter-section player-filter-section collapsible collapsed">
      <div class="collapsible-header">
        <h3>Filtrar por jugadores fuera de pista</h3>
        <span class="collapse-icon">▼</span>
      </div>
      <div class="collapsible-content">
        <div class="player-checkboxes" id="lineupPlayerOffCheckboxes">
          <!-- Player checkboxes will be added here dynamically -->
        </div>
        <span class="filter-info" id="lineupPlayerOffFilterInfo"></span>
      </div>
    </div>

    <!-- Stats toggle -->
    <div class="lineup-stats-toggle">
      <label class="switch">
        <input type="checkbox" id="lineupPer100Toggle">
        <span class="slider round"></span>
      </label>
      <span class="toggle-label">Mostrar estadísticas por 100 posesiones</span>
    </div>

    <!-- Column selector -->
    <div class="lineup-column-selector">
      <div class="dropdown">
        <button class="dropdown-button">Columnas visibles</button>
        <div class="dropdown-content">
          <div class="column-selector-header">
            <button id="lineupSelectAllColumns">Seleccionar todo</button>
            <button id="lineupDeselectAllColumns">Deseleccionar todo</button>
          </div>
          <div class="column-options">
            <label><input type="checkbox" data-column="PTS" checked> PTS <span class="column-tooltip">Puntos totales anotados por el equipo</span></label>
            <label><input type="checkbox" data-column="PTSC" checked> PTSC <span class="column-tooltip">Puntos recibidos</span></label>
            <label><input type="checkbox" data-column="T2I" checked> T2I <span class="column-tooltip">Tiros de 2 puntos intentados</span></label>
            <label><input type="checkbox" data-column="T2C" checked> T2C <span class="column-tooltip">Tiros de 2 puntos convertidos</span></label>
            <label><input type="checkbox" data-column="T3I" checked> T3I <span class="column-tooltip">Tiros de 3 puntos intentados</span></label>
            <label><input type="checkbox" data-column="T3C" checked> T3C <span class="column-tooltip">Tiros de 3 puntos convertidos</span></label>
            <label><input type="checkbox" data-column="T1I" checked> T1I <span class="column-tooltip">Tiros libres intentados</span></label>
            <label><input type="checkbox" data-column="T1C" checked> T1C <span class="column-tooltip">Tiros libres convertidos</span></label>
            <label><input type="checkbox" data-column="AST" checked> AST <span class="column-tooltip">Asistencias</span></label>
            <label><input type="checkbox" data-column="REB" checked> REB <span class="column-tooltip">Rebotes totales</span></label>
            <label><input type="checkbox" data-column="REBD" checked> REBD <span class="column-tooltip">Rebotes defensivos</span></label>
            <label><input type="checkbox" data-column="REBO" checked> REBO <span class="column-tooltip">Rebotes ofensivos</span></label>
            <label><input type="checkbox" data-column="PER" checked> PER <span class="column-tooltip">Pérdidas</span></label>
            <label><input type="checkbox" data-column="ROB" checked> ROB <span class="column-tooltip">Robos de balón</span></label>
            <label><input type="checkbox" data-column="TAP" checked> TAP <span class="column-tooltip">Tapones a favor</span></label>
            <label><input type="checkbox" data-column="TAPC" checked> TAPC <span class="column-tooltip">Tapones en contra</span></label>
            <label><input type="checkbox" data-column="FC" checked> FC <span class="column-tooltip">Faltas cometidas</span></label>
            <label><input type="checkbox" data-column="FR" checked> FR <span class="column-tooltip">Faltas recibidas</span></label>
            <label><input type="checkbox" data-column="T2CC" checked> T2CC <span class="column-tooltip">Tiros de 2 convertidos del rival</span></label>
            <label><input type="checkbox" data-column="T3CC" checked> T3CC <span class="column-tooltip">Tiros de 3 convertidos del rival</span></label>
            <label><input type="checkbox" data-column="T1CC" checked> T1CC <span class="column-tooltip">Tiros libres convertidos del rival</span></label>
            <label><input type="checkbox" data-column="REBDC" checked> REBDC <span class="column-tooltip">Rebotes defensivos del rival</span></label>
            <label><input type="checkbox" data-column="REBOC" checked> REBOC <span class="column-tooltip">Rebotes ofensivos concedidos</span></label>
            <label><input type="checkbox" data-column="+/-" checked> +/- <span class="column-tooltip">Diferencia de puntos con el rival</span></label>
            <label><input type="checkbox" data-column="Posesiones" checked> Posesiones <span class="column-tooltip">Número de posesiones</span></label>
          </div>
        </div>
      </div>
    </div>

    <!-- Possession filter -->
    <div class="lineup-possession-filter-section">
      <h3>Filtrar por Posesiones</h3>
      <div class="possession-filter">
        <div class="range-inputs">
          <div class="range-input">
            <label for="lineupMinPossessions">Mín:</label>
            <input type="number" id="lineupMinPossessions" min="0" step="1" placeholder="Min">
          </div>
          <div class="range-input">
            <label for="lineupMaxPossessions">Máx:</label>
            <input type="number" id="lineupMaxPossessions" min="0" step="1" placeholder="Max">
          </div>
        </div>
        <button id="lineupResetPossessions" class="reset-button">Resetear</button>
      </div>
    </div>

    <!-- Table container -->
    <h3 class="lineup-table-title">Estadísticas del equipo con jugadores en pista</h3>
    <div class="lineup-table-container">
      <div class="scroll-arrows">
        <button class="scroll-arrow left" id="lineupScrollLeft">◀</button>
        <button class="scroll-arrow right" id="lineupScrollRight">▶</button>
      </div>
      <div class="table-scroll-wrapper">
        <table class="lineup-table">
          <thead>
            <tr>
              <th title="Jugadores que forman el quinteto">Jugadores en pista</th>
              <th title="Puntos totales anotados por el equipo">PTS</th>
              <th title="Puntos recibidos">PTSC</th>
              <th title="Tiros de 2 puntos intentados">T2I</th>
              <th title="Tiros de 2 puntos convertidos">T2C</th>
              <th title="Tiros de 3 puntos intentados">T3I</th>
              <th title="Tiros de 3 puntos convertidos">T3C</th>
              <th title="Tiros libres intentados">T1I</th>
              <th title="Tiros libres convertidos">T1C</th>
              <th title="Asistencias">AST</th>
              <th title="Rebotes totales">REB</th>
              <th title="Rebotes defensivos">REBD</th>
              <th title="Rebotes ofensivos">REBO</th>
              <th title="Pérdidas">PER</th>
              <th title="Robos de balón">ROB</th>
              <th title="Tapones a favor">TAP</th>
              <th title="Tapones en contra">TAPC</th>
              <th title="Faltas cometidas">FC</th>
              <th title="Faltas recibidas">FR</th>
              <th title="Tiros de 2 convertidos del rival">T2CC</th>
              <th title="Tiros de 3 convertidos del rival">T3CC</th>
              <th title="Tiros libres convertidos del rival">T1CC</th>
              <th title="Rebotes defensivos del rival">REBDC</th>
              <th title="Rebotes ofensivos concedidos">REBOC</th>
              <th title="Diferencia de puntos con el rival">+/-</th>
              <th title="Número de posesiones">Posesiones</th>
            </tr>
          </thead>
          <tbody id="lineupTableBody">
            <!-- Table data will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Error modal -->
    <div class="lineup-modal" id="lineupErrorModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>¡Uy!</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <p id="lineupModalMessage"></p>
        </div>
        <div class="modal-footer">
          <button class="modal-button" id="lineupModalCloseButton">Aceptar</button>
        </div>
      </div>
    </div>
  </section>

  <section id="recordsSection" class="player-section" style="display:none;">
    <h2>Récords del Equipo</h2>
    <div class="records-container">
        <div class="record-card-pts">
            <div class="record-header">
                <span class="record-title">Puntos</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-reb">
            <div class="record-header">
                <span class="record-title">Rebotes</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-ast">
            <div class="record-header">
                <span class="record-title">Asistencias</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-rob">
            <div class="record-header">
                <span class="record-title">Robos</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-tap">
            <div class="record-header">
                <span class="record-title">Tapones</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-3pm">
            <div class="record-header">
                <span class="record-title">Triples</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-tla">
            <div class="record-header">
                <span class="record-title">Tiros Libres</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-t2c">
            <div class="record-header">
                <span class="record-title">Tiros de 2</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
        <div class="record-card-val">
            <div class="record-header">
                <span class="record-title">Valoración</span>
                <span class="record-value"></span>
            </div>
            <div class="record-details">
                <p></p>
                <p></p>
                <a href="#">Ir al partido</a>
            </div>
        </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="feb-footer">
    <div class="footer-inner">
      <div class="footer-right">
        <h3>Patrocinadores Oficiales</h3>
        <div class="partner-logos">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/niker.png" alt="Nike" class="partner-logo">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/endesa.png" alt="Endesa" class="partner-logo">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/azul.png" alt="Azul Marino" class="partner-logo">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/tenerife.png" alt="Tenerife" class="partner-logo">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/iberia.png" alt="Iberia" class="partner-logo">
          <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/caixa.png" alt="CaixaBank" class="partner-logo">
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>
        © 2025 Federación Española de Baloncesto. Todos los derechos reservados.<br>
        <a href="#">Política de privacidad</a> | 
        <a href="#">Términos y condiciones</a> | 
        <a href="#">Cookies</a>
      </p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="team_profile.js"></script>
</body>
</html> 