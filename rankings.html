<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rankings - FEB</title>
  <link rel="stylesheet" href="rankings.css">
</head>
<body>
  <div class="loader-container">
    <div class="loader"></div>
    <div class="loader-text">Cargando estadísticas...</div>
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
  </div>
  <!-- HEADER -->
  <header>
    <div class="header-inner">
     <img 
        src="https://raw.githubusercontent.com/emebullon/cadete2025/refs/heads/main/febcadete.svg" 
        alt="Logo FEB" 
        class="footer-logo"
      >
      <button class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <nav class="main-nav">
        <ul>
          <li class="nav-item">
            <a href="index.html">
              <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/home-outline.svg" alt="Icono Inicio">
              <span>Inicio</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="partidos.html">
              <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/basketball-outline.svg" alt="Icono Partidos">
              <span>Partidos</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="clasificacion.html">
              <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/calendar-outline.svg" alt="Icono Clasificación">
              <span>Clasificación</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="jugadores.html">
              <!-- Player icon – white lines, 36 × 36 viewBox -->
              <svg xmlns="http://www.w3.org/2000/svg"
                   width="36" height="36" viewBox="0 0 64 64"
                   role="img" aria-label="Icono de jugador de baloncesto">
                <!-- Camiseta (contorno) -->
                <path d="M24 6
                         L20 6 L14 14 L14 44 L18 54 L46 54 L50 44 L50 14 L44 6 L40 6
                         L40 16 L24 16 Z"
                      fill="none" stroke="#FFFFFF" stroke-width="3" stroke-linejoin="round"/>
                <!-- Balón sobre el pecho -->
                <circle cx="32" cy="34" r="9"
                        fill="none" stroke="#FFFFFF" stroke-width="3"/>
                <!-- Líneas del balón -->
                <path d="M23 34 h18"           fill="none" stroke="#FFFFFF" stroke-width="2"/>
                <path d="M32 25 v18"           fill="none" stroke="#FFFFFF" stroke-width="2"/>
                <path d="M26 28
                         a9 9 0 0 0 0 12"      fill="none" stroke="#FFFFFF" stroke-width="2"/>
                <path d="M38 28
                         a9 9 0 0 1 0 12"      fill="none" stroke="#FFFFFF" stroke-width="2"/>
              </svg>
              <span>Jugadores</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="equipos.html">
              <!-- Basketball team icon – white lines, 36 × 36 viewBox -->
              <img src="team_icon.png" alt="Icono Equipo">
              <span>Equipos</span>
            </a>
          </li>
          <li class="nav-item active">
            <a href="rankings.html">
              <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/stats-chart-outline.svg" alt="Icono Ranking">
              <span>Rankings</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- CONTENEDOR PRINCIPAL -->
  <div class="container">
    <h1 class="section-title" style="text-align: center; margin-bottom: 20px;">Rankings</h1>

    <!-- BOTÓN FILTROS Y BREADCRUMB -->
    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
      <button id="toggleFiltersBtn" style="padding: 8px 16px; background-color: #FF9E1B; color: #1D296F; font-weight: bold; border: none; border-radius: 4px; cursor: pointer;">Filtros</button>
      <nav id="filtersBreadcrumb" style="display:none; margin-left: 20px; font-size: 1em; color: #FF9E1B;"></nav>
    </div>

    <!-- FILTROS -->
    <div class="stats-filters" id="statsFilters">
      <input type="text" id="searchPlayerTeam" placeholder="Buscar equipo o jugador...">
      <div class="custom-select">
        <div class="select-header" onclick="toggleDropdown('competition')">
          <span>Competición</span>
          <span class="arrow">▼</span>
        </div>
        <div class="select-options" id="competitionOptions">
          <div class="select-search">
            <input type="text" placeholder="Buscar..." onkeyup="filterOptions('competition')">
          </div>
          <div class="select-all-options">
            <button onclick="selectAll('competition')" class="select-all-btn">Seleccionar todo</button>
            <button onclick="deselectAll('competition')" class="deselect-all-btn" style="display: block;">Deseleccionar todo</button>
          </div>
          <div class="options-list" id="competitionList">
            <!-- Options will be filled dynamically -->
          </div>
        </div>
      </div>

      <div class="custom-select">
        <div class="select-header" onclick="toggleDropdown('round')">
          <span>Fase</span>
          <span class="arrow">▼</span>
        </div>
        <div class="select-options" id="roundOptions">
          <div class="select-all-options">
            <button onclick="selectAll('round')" class="select-all-btn">Seleccionar todo</button>
            <button onclick="deselectAll('round')" class="deselect-all-btn" style="display: block;">Deseleccionar todo</button>
          </div>
          <div class="options-list" id="roundList">
            <!-- Options will be filled dynamically -->
          </div>
        </div>
      </div>

      <div class="custom-select">
        <div class="select-header" onclick="toggleDropdown('team')">
          <span>Equipo</span>
          <span class="arrow">▼</span>
        </div>
        <div class="select-options" id="teamOptions">
          <div class="select-search">
            <input type="text" placeholder="Buscar..." onkeyup="filterOptions('team')">
          </div>
          <div class="select-all-options">
            <button onclick="selectAll('team')" class="select-all-btn">Seleccionar todo</button>
            <button onclick="deselectAll('team')" class="deselect-all-btn" style="display: block;">Deseleccionar todo</button>
          </div>
          <div class="options-list" id="teamList">
            <!-- Options will be filled dynamically -->
          </div>
        </div>
      </div>

      <div class="custom-select">
        <div class="select-header" onclick="toggleDropdown('gender')">
          <span>Género</span>
          <span class="arrow">▼</span>
        </div>
        <div class="select-options" id="genderOptions">
          <div class="select-all-options">
            <button onclick="selectAll('gender')" class="select-all-btn">Seleccionar todo</button>
            <button onclick="deselectAll('gender')" class="deselect-all-btn" style="display: block;">Deseleccionar todo</button>
          </div>
          <div class="options-list" id="genderList">
            <label class="option">
              <input type="checkbox" value="H">
              <span>Hombres</span>
            </label>
            <label class="option">
              <input type="checkbox" value="M">
              <span>Mujeres</span>
            </label>
          </div>
        </div>
      </div>

      <div class="toggle-container">
        <span>Totales</span>
        <label class="switch">
          <input type="checkbox" id="modeToggle">
          <span class="slider round"></span>
        </label>
        <span>Promedios</span>
      </div>
      <button id="btnApplyFilters">Aplicar Filtros</button>
      <button id="btnResetFilters" type="button">Resetear Filtros</button>
    </div>

    <!-- NOTA Y BOTONES DE NAVEGACIÓN EN LÍNEA -->
    <div class="table-nav-row">
      <div class="table-note" id="tableNote">Haz clic sobre la tabla para navegar y hacer scroll</div>
      <div class="table-scroll-arrows">
        <button id="scrollLeftBtn" class="scroll-arrow">&#8592;</button>
        <button id="scrollRightBtn" class="scroll-arrow">&#8594;</button>
      </div>
    </div>
    <!-- TABLA -->
    <div class="stats-table-container" id="statsTableContainer" style="position:relative;">
      <button class="mobile-columns-toggle" id="toggleColumns">Mostrar más columnas</button>
      <table class="stats-table" id="statsTable">
        <thead>
          <tr>
            <th data-col="rank" title="Posición en el ranking">#</th>
            <th data-col="dorsal" title="Número de dorsal del jugador">Dorsal</th>
            <th data-col="playerPhoto" title="Fotografía del jugador">Foto</th>
            <th data-col="playerName" title="Nombre completo del jugador">Jugador</th>
            <th data-col="teamName" title="Nombre del equipo">Equipo</th>
            <th data-col="min" title="Minutos jugados">MIN</th>
            <th data-col="pts" title="Puntos totales anotados">PTS</th>
            <th data-col="t2c" title="Tiros de 2 puntos convertidos">T2C</th>
            <th data-col="t2i" title="Tiros de 2 puntos intentados">T2I</th>
            <th data-col="pct2" title="Porcentaje de acierto en tiros de 2 puntos">%T2</th>
            <th data-col="t3c" title="Tiros de 3 puntos convertidos">T3C</th>
            <th data-col="t3i" title="Tiros de 3 puntos intentados">T3I</th>
            <th data-col="pct3" title="Porcentaje de acierto en tiros de 3 puntos">%T3</th>
            <th data-col="tlc" title="Tiros libres convertidos">TLC</th>
            <th data-col="tli" title="Tiros libres intentados">TLI</th>
            <th data-col="pctTl" title="Porcentaje de acierto en tiros libres">%TL</th>
            <th data-col="ro" title="Rebotes ofensivos">RO</th>
            <th data-col="rd" title="Rebotes defensivos">RD</th>
            <th data-col="rt" title="Rebotes totales">RT</th>
            <th data-col="as" title="Asistencias">AS</th>
            <th data-col="br" title="Balones recuperados">BR</th>
            <th data-col="bp" title="Balones perdidos">BP</th>
            <th data-col="tp" title="Tapones">TP</th>
            <th data-col="fc" title="Faltas cometidas">FC</th>
            <th data-col="va" title="Valoración">VA</th>
            <th data-col="pm" title="Plus/Minus: Diferencia de puntos del equipo con el jugador en pista">+/-</th>
            <th data-col="imp" title="Impacto: (Valoración + Plus/Minus) / Minutos jugados">IMP</th>
            <th data-col="games" title="Número de partidos jugados">Part.</th>
          </tr>
        </thead>
        <tbody>
          <!-- Se rellena dinámicamente -->
        </tbody>
      </table>
    </div>

    <!-- Paginación -->
    <div class="pagination-controls">
      <button id="prevPageBtn">Anterior</button>
      <span id="pageInfo"></span>
      <button id="nextPageBtn">Siguiente</button>
    </div>
  </div>

  <!-- FOOTER -->
  <!-- Script para resetear scroll al navegar desde navegación móvil -->
  <script>
    // Resetear scroll al navegar desde cualquier elemento de navegación
    document.addEventListener('DOMContentLoaded', function() {
      // Resetear scroll al cargar la página
      window.scrollTo(0, 0);
      
      // Seleccionar todos los elementos de navegación (header y móvil)
      const allNavItems = document.querySelectorAll('.nav-item a, .bottom-nav-item');
      
      allNavItems.forEach(function(item) {
        item.addEventListener('click', function(e) {
          // Solo resetear scroll si el enlace lleva a otra página
          const href = this.getAttribute('href');
          if (href && href !== '#' && href !== window.location.pathname) {
            // Resetear scroll a la parte superior antes de navegar
            window.scrollTo(0, 0);
            
            // Pequeño delay para asegurar que el scroll se resetee antes de navegar
            setTimeout(function() {
              // El navegador seguirá con la navegación normal
            }, 50);
          }
        });
      });
    });

    // También resetear scroll cuando se carga la página desde el historial del navegador
    window.addEventListener('pageshow', function(event) {
      window.scrollTo(0, 0);
    });
  </script>

  <script src="rankings.js"></script>
<!-- FOOTER -->
<footer class="feb-footer">
  <div class="footer-inner">
    </div>
    <div class="footer-right">
      <h3>Patrocinadores Oficiales</h3>
      <div class="partner-logos">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/niker.png" alt="Nike" class="partner-logo">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/endesa.png" alt="Endesa" class="partner-logo">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/azul.png" alt="Azul Marino" class="partner-logo">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/tenerife.png" alt="Tenerife" class="partner-logo">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/iberia.png" alt="Iberia" class="partner-logo">
        <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/caixa.png" alt="CaixaBank" class="partner-logo">
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>
      © 2025 Federación Española de Baloncesto. Todos los derechos reservados.<br>
      <a href="#">Política de privacidad</a> | 
      <a href="#">Términos y condiciones</a> | 
      <a href="#">Cookies</a>
    </p>
  </div>
</footer>

  <!-- NAVEGACIÓN INFERIOR PARA MÓVILES -->
  <nav class="mobile-bottom-nav">
    <a href="index.html" class="bottom-nav-item">
      <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/home-outline.svg" alt="Inicio">
      <span>Inicio</span>
    </a>
    <a href="partidos.html" class="bottom-nav-item">
      <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/basketball-outline.svg" alt="Partidos">
      <span>Partidos</span>
    </a>
    <a href="clasificacion.html" class="bottom-nav-item">
      <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/calendar-outline.svg" alt="Clasificación">
      <span>Clasificación</span>
    </a>
    <a href="jugadores.html" class="bottom-nav-item">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 64 64" role="img" aria-label="Jugadores">
        <path d="M24 6 L20 6 L14 14 L14 44 L18 54 L46 54 L50 44 L50 14 L44 6 L40 6 L40 16 L24 16 Z" fill="none" stroke="#FFFFFF" stroke-width="3" stroke-linejoin="round"/>
        <circle cx="32" cy="34" r="9" fill="none" stroke="#FFFFFF" stroke-width="3"/>
        <path d="M23 34 h18" fill="none" stroke="#FFFFFF" stroke-width="2"/>
        <path d="M32 25 v18" fill="none" stroke="#FFFFFF" stroke-width="2"/>
        <path d="M26 28 a9 9 0 0 0 0 12" fill="none" stroke="#FFFFFF" stroke-width="2"/>
        <path d="M38 28 a9 9 0 0 1 0 12" fill="none" stroke="#FFFFFF" stroke-width="2"/>
      </svg>
      <span>Jugadores</span>
    </a>
    <a href="equipos.html" class="bottom-nav-item">
      <img src="team_icon.png" alt="Equipos">
      <span>Equipos</span>
    </a>
    <a href="rankings.html" class="bottom-nav-item active">
      <img src="https://raw.githubusercontent.com/emebullon/games/refs/heads/main/stats-chart-outline.svg" alt="Rankings">
      <span>Rankings</span>
    </a>
  </nav>
  
</body>
</html>
